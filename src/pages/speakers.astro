---
import PersonList from "../components/people/PeopleList.astro";
import Person from "../components/people/Person.astro";
import CommonLayout from "../layouts/CommonLayout.astro";
import { useTalks } from "../components/useTalks";

const talks = await Astro.glob("./talks/*.md");
---

<CommonLayout title="Speakers" header="Speakers" withLogo>
    <section id="speakers" class="speakers">
        <div class="container space-y-6">
            <PersonList>
                {
                    talks.map((talk) => (
                        <Person
                            name={talk.frontmatter.name}
                            image={talk.frontmatter.image}
                            tracks={talk.frontmatter.tracks}
                            slug={`/talks/${talk.url?.replace("/talks/", "")}`}
                        >
                            <p>
                                <em>Talk</em>:
                                <a
                                    href={`/talks/${talk.url?.replace("/talks/", "")}`}
                                >
                                    {talk.frontmatter.talkTitle}
                                </a>
                            </p>
                        </Person>
                    ))
                }
            </PersonList>
        </div>
    </section>
</CommonLayout>

<style lang="scss">
    @use "../styles/variables.scss";
    @use "../styles/breakpoint.scss";

    .speakers {
        padding-top: 2em;
    }

    p {
        font-size: variables.$font-size-sm;
    }
</style>
